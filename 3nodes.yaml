infra: 3ctrl_3contrail_Xcpt
profiles:
  install-server:
    steps:
      1:
        roles:
          - cloud::logging::server
  openstack-full:
    steps:
      1:
        roles:
          - cloud::logging::agent
      3:
        roles:
          - cloud::monitoring::agent::sensu
          - cloud::monitoring::server::sensu
hosts:
  compute1:
    profile: compute
    ip: 192.168.142.12
    config:
      ntp::iburst_enable: true
      ntp::servers:
        - 10.16.151.254
      ntp::restrict:
        - 'default nomodify notrap nopeer noquery'
        - '127.0.0.1'
        - '-6 ::1'
      #contrail::vrouter::config::vhost_ip: 192.168.142.12
      #contrail::vrouter::config::discovery_ip: 192.168.142.42
      #contrail::vrouter::config::gateway: 192.168.142.1
      #contrail::vrouter::config::vrouter_agent_config:
      #    'DISCOVERY/server':
      #      value: '192.168.142.42'
      #    'DISCOVERY/max_control_nodes':
      #      value: 2
      #    'HYPERVISOR/type':
      #      value: 'kvm'
      #    'NETWORKS/control_network_ip':
      #      value: '192.168.142.12'
      #    'VIRTUAL-HOST-INTERFACE/name':
      #      value: 'vhost0'
      #    'VIRTUAL-HOST-INTERFACE/compute_node_address':
      #      ensure: absent
      #    'VIRTUAL-HOST-INTERFACE/ip':
      #      value: '192.168.142.12/24'
      #    'VIRTUAL-HOST-INTERFACE/gateway':
      #      value: '192.168.142.1'
      #    'VIRTUAL-HOST-INTERFACE/physical_interface':
      #      value: 'eth0'
      #nova::compute::neutron::libvirt_vif_driver: contrail_vif.contrailvif.VRouterVIFDriver
      #cloud::compute::hypervisor::libvirt_type: qemu
      #nova::network::neutron::network_api_class: 'nova_contrail_vif.contrailvif.ContrailNetworkAPI'
      #contrail::vrouter::config::vrouter_nodemgr_config:
      #    'DISCOVERY/server':
      #      value: '192.168.142.42' 
      #contrail::vrouter::provision_vrouter::api_address: 192.168.142.42

      #contrail::vnc_api::vnc_api_config:
      #    'global/WEB_SERVER':
      #      value: 192.168.142.42
      #    'auth/AUTHN_SERVER':
      #      value: 192.168.142.42

      #contrail::service_token::keystone_service_token: kpimopmiopmidfmpoifdmsaifdsanufdsqiufwqnufidsapnuipsafds

      #contrail::ctrl_details::keystone_service_token: kpimopmiopmidfmpoifdmsaifdsanufdsqiufwqnufidsapnuipsafds
      #contrail::ctrl_details::openstack_public_vip: 192.168.142.42
      #contrail::ctrl_details::openstack_external_vip: 192.168.142.42
      #contrail::ctrl_details::amqp_ip: 192.168.142.6
  installserver:
    profile: install-server
    ip: 192.168.142.5
    config:
      ntp::iburst_enable: true
      ntp::servers:
        - 10.16.151.254
      ntp::restrict:
        - 'default nomodify notrap nopeer noquery'
        - '127.0.0.1'
        - '-6 ::1'
      cloud::logging::agent::syslog_enable: false
      apache::purge_configs: false
      fluentd::version: '2'
      elasticsearch::init_template: elasticsearch.RedHat.erb
      kibana3::config_es_server: "%{::ipaddress}"
      kibana3::config_kibana_index: fluentd
      sensu::subscriptions: base
      sensu::rabbitmq_password: rabbitpassword
      sensu::rabbitmq_host: 192.168.142.6
      sensu::rabbitmq_vhost: '/sensu'
      sensu::install_repo: false
      uchiwa::install_repo: false
      uchiwa::user: admin
      uchiwa::pass: password
      uchiwa::host: "%{::ipaddress}"
      uchiwa::install_repo: false
      cloud::logging::agent::sources:
        syslog:
          configfile: syslog
          type: syslog
          tag: system.syslog
          config:
            port: 5140
            bind: 0.0.0.0
            with_priority:
      cloud::logging::agent::matches:
        elasticsearch:
          configfile: elasticsearch
          pattern: "**"
          type: elasticsearch
          config:
            logstash_format: true
            index_name: fluentd
            type_name: fluentd
            port: 9200
            host: "%{::ipaddress}"
            flush_interval: 5
  openstack1:
    profile: openstack-full
    ip: 192.168.142.6
    config:
      ntp::iburst_enable: true
      ntp::servers:
        - 10.16.151.254
      ntp::restrict:
        - 'default nomodify notrap nopeer noquery'
        - '127.0.0.1'
        - '-6 ::1'
      #cloud::network::contrail::haproxy::contrail_analytics_api: true
      #cloud::network::contrail::haproxy::contrail_config_api: true
      #cloud::network::contrail::haproxy::contrail_config_discovery: true
      #cloud::network::contrail::haproxy::contrail_webui_http: true
      #cloud::network::contrail::haproxy::contrail_webui_https: true
      #cloud::network::plugin: opencontrail
      #cloud::network::controller::plugin: opencontrail
      #cloud::network::controller::ks_keystone_admin_token: kpimopmiopmidfmpoifdmsaifdsanufdsqiufwqnufidsapnuipsafds
      #cloud::network::controller::contrail_api_server_ip: 192.168.142.42
      #cloud::network::controller::contrail_extensions: ['ipam:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_ipam.NeutronPluginContrailIpam','policy:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_policy.NeutronPluginContrailPolicy','route-table:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_vpc.NeutronPluginContrailVpc']
      #neutron::quota::quota_driver: neutron_plugin_contrail.plugins.opencontrail.quota.driver.QuotaDriver
      #neutron::api_extensions_path: extensions:/usr/lib/python2.7/site-packages/neutron_plugin_contrail/extensions
      #cloud::network::service_plugins: ['neutron_plugin_contrail.plugins.opencontrail.loadbalancer.plugin.LoadBalancerPlugin']
      sensu::server: true
      sensu::api: true
      cloud::monitoring::server::sensu::checks:
        'check-mem' :
          command: '/etc/sensu/plugins/check-mem.sh -w 150 -c 100'
          subscribers: base
          standalone: false
        'check_ntp_time' :
          command: '/usr/lib64/nagios/plugins/check_ntp_time -H 0.rhel.pool.ntp.org -w 0.5 -c 1'
          subscribers: base
          standalone: false
        'check_disk' :
          command: '/usr/lib64/nagios/plugins/check_disk -w 80 -c 90 --path /'
          subscribers: base
          standalone: false
        'check_dns' :
          command: '/usr/lib64/nagios/plugins/check_dns -H vip.example.com -s 94.143.114.197 -w 0.1 -c 0.2'
          subscribers: base
          standalone: false
        'check_load' :
          command: '/usr/lib64/nagios/plugins/check_load -w 0.7,0.6,0.5 -c 0.9,0.8,0.7'
          subscribers: base
          standalone: false
        'check_swap' :
          command: '/usr/lib64/nagios/plugins/check_swap -w 50% -c 25%'
          subscribers: base
          standalone: false
        'cinder-api' :
          command: 'oschecks-check_cinder_api --os-auth-url https://vip.example.com:5000/v2.0 --os-username admin --os-tenant-name admin --os-password Xokoph5io2aenaoh0nuiquei9aineigo'
          subscribers: openstack-api
          standalone: false
        'nova-api' :
          command: 'oschecks-check_nova_api --os-auth-url https://vip.example.com:5000/v2.0 --os-username admin --os-tenant-name admin --os-password Xokoph5io2aenaoh0nuiquei9aineigo'
          subscribers: openstack-api
          standalone: false
        'ceilometer-api' :
          command: 'oschecks-check_ceilometer_api --os-auth-url https://vip.example.com:5000/v2.0 --os-username admin --os-tenant-name admin --os-password Xokoph5io2aenaoh0nuiquei9aineigo'
          subscribers: openstack-api
          standalone: false
        'keystone-api' :
          command: 'oschecks-check_keystone_api --os-auth-url https://vip.example.com:5000/v2.0 --os-username admin --os-tenant-name admin --os-password Xokoph5io2aenaoh0nuiquei9aineigo'
          subscribers: openstack-api
          standalone: false
        'neutron-api' :
          command: 'oschecks-check_neutron_api --os-auth-url https://vip.example.com:5000/v2.0 --os-username admin --os-tenant-name admin --os-password Xokoph5io2aenaoh0nuiquei9aineigo'
          subscribers: openstack-api
          standalone: false
        'glance-api' :
          command: 'oschecks-check_glance_api --os-auth-url https://vip.example.com:5000/v2.0 --os-username admin --os-tenant-name admin --os-password Xokoph5io2aenaoh0nuiquei9aineigo'
          subscribers: openstack-api
          standalone: false
        'ceilometer-collector' :
          command: 'sudo oschecks-check_amqp ceilometer-collector'
          subscribers: openstack-amqp
          standalone: false
        'ceilometer-agent-notification' :
          command: 'sudo oschecks-check_amqp ceilometer-agent-notification'
          subscribers: openstack-amqp
          standalone: false

      cloud::monitoring::server::sensu::plugins:
        'https://raw.githubusercontent.com/sensu/sensu-community-plugins/master/plugins/system/check-mem.sh' :
          type: url
      #cloud::database::nosql::mongodb::mongos::enable: true
      #mongodb::server::configsvr: true
      #monbodb::server::bind_ip: 127.0.0.1
      #mongodb::mongos::pidfilepath: '/var/run/mongodb/mongos.pid'
      #mongodb::mongos::unixsocketprefix: '/var/run/mongodb'
      #mongodb::mongos::logpath: '/var/log/mongodb/mongodb-shard.log'
      #mongodb::mongos::fork: true
      cloud::compute::hypervisor::vm_rbd: false
      cloud::storage::rbd::osd::public_address: "%{hiera('public_netif_ip')}"
      cloud::storage::rbd::osd::cluster_address: "%{hiera('internal_netif_ip')}"
      cloud::storage::rbd::public_network: "%{hiera('ceph_public_network')}"
      cloud::storage::rbd::cluster_network: "%{hiera('ceph_cluster_network')}"
      cloud::storage::rbd::osd::devices: "%{hiera('ceph_osd_devices')}"
      cloud::loadbalancer::keepalived_priority: 49
      cloud::storage::rbd::pools::setup_pools: true
      cloud::object::storage::swift_zone: 1
      cloud::storage::rbd::key::enabled: true
      cloud::object::ringbuilder::enabled: true
      cloud::object::storage::fstype: loopback
      cloud::object::storage::device_config_hash:
        loop0:
          base_dir: /srv/loopback_device
          mnt_base_dir: /srv/node
          byte_size: 1024
          seek: 10000000
          fstype: xfs
        loop1:
          base_dir: /srv/loopback_device
          mnt_base_dir: /srv/node
          byte_size: 1024
          seek: 10000000
          fstype: xfs
        loop2:
          base_dir: /srv/loopback_device
          mnt_base_dir: /srv/node
          byte_size: 1024
          seek: 10000000
          fstype: xfs
      cloud::object::storage::ring_container_device: loop0
      cloud::object::storage::ring_account_device: loop0
      fluentd::version: '2'
      sensu::subscriptions: base
      sensu::rabbitmq_password: rabbitpassword
      sensu::rabbitmq_host: 192.168.142.6
      sensu::rabbitmq_vhost: '/sensu'
      sensu::install_repo: false
  openstack2:
    profile: openstack-full
    ip: 192.168.142.7
    config:
      ntp::iburst_enable: true
      ntp::servers:
        - 10.16.151.254
      ntp::restrict:
        - 'default nomodify notrap nopeer noquery'
        - '127.0.0.1'
        - '-6 ::1'
#      cloud::network::contrail::haproxy::contrail_analytics_api: true
#      cloud::network::contrail::haproxy::contrail_config_api: true
#      cloud::network::contrail::haproxy::contrail_config_discovery: true
#      cloud::network::contrail::haproxy::contrail_webui_http: true
#      cloud::network::contrail::haproxy::contrail_webui_https: true
#      cloud::network::plugin: opencontrail
#      cloud::network::controller::plugin: opencontrail
#      cloud::network::controller::ks_keystone_admin_token: kpimopmiopmidfmpoifdmsaifdsanufdsqiufwqnufidsapnuipsafds
#      cloud::network::controller::contrail_api_server_ip: 192.168.142.42
#      cloud::network::controller::contrail_extensions: ['ipam:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_ipam.NeutronPluginContrailIpam','policy:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_policy.NeutronPluginContrailPolicy','route-table:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_vpc.NeutronPluginContrailVpc']
#      neutron::quota::quota_driver: neutron_plugin_contrail.plugins.opencontrail.quota.driver.QuotaDriver
#      neutron::api_extensions_path: extensions:/usr/lib/python2.7/site-packages/neutron_plugin_contrail/extensions
#      cloud::network::service_plugins: ['neutron_plugin_contrail.plugins.opencontrail.loadbalancer.plugin.LoadBalancerPlugin']
      sensu::server: true
      sensu::api: true
      cloud::monitoring::server::sensu::manage_sensu_plugins: false
      cloud::monitoring::server::sensu::checks:
        'check-mem' :
          command: '/etc/sensu/plugins/check-mem.sh -w 150 -c 100'
          subscribers: base
          standalone: false
        'check_ntp_time' :
          command: '/usr/lib64/nagios/plugins/check_ntp_time -H 0.rhel.pool.ntp.org -w 0.5 -c 1'
          subscribers: base
          standalone: false
        'check_disk' :
          command: '/usr/lib64/nagios/plugins/check_disk -w 80 -c 90 --path /'
          subscribers: base
          standalone: false
        'check_dns' :
          command: '/usr/lib64/nagios/plugins/check_dns -H vip.example.com -s 94.143.114.197 -w 0.1 -c 0.2'
          subscribers: base
          standalone: false
        'check_load' :
          command: '/usr/lib64/nagios/plugins/check_load -w 0.7,0.6,0.5 -c 0.9,0.8,0.7'
          subscribers: base
          standalone: false
        'check_swap' :
          command: '/usr/lib64/nagios/plugins/check_swap -w 50% -c 25%'
          subscribers: base
          standalone: false
        'cinder-api' :
          command: 'oschecks-check_cinder_api --os-auth-url https://vip.example.com:5000/v2.0 --os-username admin --os-tenant-name admin --os-password Xokoph5io2aenaoh0nuiquei9aineigo'
          subscribers: openstack-api
          standalone: false
        'nova-api' :
          command: 'oschecks-check_nova_api --os-auth-url https://vip.example.com:5000/v2.0 --os-username admin --os-tenant-name admin --os-password Xokoph5io2aenaoh0nuiquei9aineigo'
          subscribers: openstack-api
          standalone: false
        'ceilometer-api' :
          command: 'oschecks-check_ceilometer_api --os-auth-url https://vip.example.com:5000/v2.0 --os-username admin --os-tenant-name admin --os-password Xokoph5io2aenaoh0nuiquei9aineigo'
          subscribers: openstack-api
          standalone: false
        'keystone-api' :
          command: 'oschecks-check_keystone_api --os-auth-url https://vip.example.com:5000/v2.0 --os-username admin --os-tenant-name admin --os-password Xokoph5io2aenaoh0nuiquei9aineigo'
          subscribers: openstack-api
          standalone: false
        'neutron-api' :
          command: 'oschecks-check_neutron_api --os-auth-url https://vip.example.com:5000/v2.0 --os-username admin --os-tenant-name admin --os-password Xokoph5io2aenaoh0nuiquei9aineigo'
          subscribers: openstack-api
          standalone: false
        'glance-api' :
          command: 'oschecks-check_glance_api --os-auth-url https://vip.example.com:5000/v2.0 --os-username admin --os-tenant-name admin --os-password Xokoph5io2aenaoh0nuiquei9aineigo'
          subscribers: openstack-api
          standalone: false
        'ceilometer-collector' :
          command: 'sudo oschecks-check_amqp ceilometer-collector'
          subscribers: openstack-amqp
          standalone: false
        'ceilometer-agent-notification' :
          command: 'sudo oschecks-check_amqp ceilometer-agent-notification'
          subscribers: openstack-amqp
          standalone: false

      cloud::monitoring::server::sensu::plugins:
        'https://raw.githubusercontent.com/sensu/sensu-community-plugins/master/plugins/system/check-mem.sh' :
          type: url
      #cloud::database::nosql::mongodb::mongos::enable: false
      #mongodb::server::shardsvr: true
      #mongodb::server::bind_ip: 192.168.142.7
      #mongodb::server::replset: ceilometer
      redis::slaveof: 'openstack1.example.com 6379'
      cloud::monitoring::server::sensu::manage_rabbitmq_resources: false
      cloud::compute::hypervisor::vm_rbd: false
      cloud::storage::rbd::osd::public_address: "%{hiera('public_netif_ip')}"
      cloud::storage::rbd::osd::cluster_address: "%{hiera('internal_netif_ip')}"
      cloud::storage::rbd::public_network: "%{hiera('ceph_public_network')}"
      cloud::storage::rbd::cluster_network: "%{hiera('ceph_cluster_network')}"
      cloud::storage::rbd::osd::devices: "%{hiera('ceph_osd_devices')}"
      cloud::loadbalancer::keepalived_priority: 49
      cloud::object::storage::swift_zone: 2
      cloud::object::storage::fstype: loopback
      cloud::object::storage::device_config_hash:
        loop0:
          base_dir: /srv/loopback_device
          mnt_base_dir: /srv/node
          byte_size: 1024
          seek: 10000000
          fstype: xfs
        loop1:
          base_dir: /srv/loopback_device
          mnt_base_dir: /srv/node
          byte_size: 1024
          seek: 10000000
          fstype: xfs
        loop2:
          base_dir: /srv/loopback_device
          mnt_base_dir: /srv/node
          byte_size: 1024
          seek: 10000000
          fstype: xfs
      cloud::object::storage::ring_container_device: loop0
      cloud::object::storage::ring_account_device: loop0
      fluentd::version: '2'
      sensu::subscriptions: base
      sensu::rabbitmq_password: rabbitpassword
      sensu::rabbitmq_host: 192.168.142.6
      sensu::rabbitmq_vhost: '/sensu'
      sensu::install_repo: false
  openstack3:
    profile: openstack-full
    ip: 192.168.142.8
    config:
      ntp::iburst_enable: true
      ntp::servers:
        - 10.16.151.254
      ntp::restrict:
        - 'default nomodify notrap nopeer noquery'
        - '127.0.0.1'
        - '-6 ::1'
#      cloud::network::contrail::haproxy::contrail_analytics_api: true
#      cloud::network::contrail::haproxy::contrail_config_api: true
#      cloud::network::contrail::haproxy::contrail_config_discovery: true
#      cloud::network::contrail::haproxy::contrail_webui_http: true
#      cloud::network::contrail::haproxy::contrail_webui_https: true
#      cloud::network::plugin: opencontrail
#      cloud::network::controller::plugin: opencontrail
#      cloud::network::controller::ks_keystone_admin_token: kpimopmiopmidfmpoifdmsaifdsanufdsqiufwqnufidsapnuipsafds
#      cloud::network::controller::contrail_api_server_ip: 192.168.142.42
#      cloud::network::controller::contrail_extensions: ['ipam:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_ipam.NeutronPluginContrailIpam','policy:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_policy.NeutronPluginContrailPolicy','route-table:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_vpc.NeutronPluginContrailVpc']
#      neutron::quota::quota_driver: neutron_plugin_contrail.plugins.opencontrail.quota.driver.QuotaDriver
#      neutron::api_extensions_path: extensions:/usr/lib/python2.7/site-packages/neutron_plugin_contrail/extensions
#      cloud::network::service_plugins: ['neutron_plugin_contrail.plugins.opencontrail.loadbalancer.plugin.LoadBalancerPlugin']
      sensu::server: true
      sensu::api: true
      cloud::monitoring::server::sensu::manage_sensu_plugins: false
      cloud::monitoring::server::sensu::checks:
        'check-mem' :
          command: '/etc/sensu/plugins/check-mem.sh -w 150 -c 100'
          subscribers: base
          standalone: false
        'check_ntp_time' :
          command: '/usr/lib64/nagios/plugins/check_ntp_time -H 0.rhel.pool.ntp.org -w 0.5 -c 1'
          subscribers: base
          standalone: false
        'check_disk' :
          command: '/usr/lib64/nagios/plugins/check_disk -w 80 -c 90 --path /'
          subscribers: base
          standalone: false
        'check_dns' :
          command: '/usr/lib64/nagios/plugins/check_dns -H vip.example.com -s 94.143.114.197 -w 0.1 -c 0.2'
          subscribers: base
          standalone: false
        'check_load' :
          command: '/usr/lib64/nagios/plugins/check_load -w 0.7,0.6,0.5 -c 0.9,0.8,0.7'
          subscribers: base
          standalone: false
        'check_swap' :
          command: '/usr/lib64/nagios/plugins/check_swap -w 50% -c 25%'
          subscribers: base
          standalone: false
        'cinder-api' :
          command: 'oschecks-check_cinder_api --os-auth-url https://vip.example.com:5000/v2.0 --os-username admin --os-tenant-name admin --os-password Xokoph5io2aenaoh0nuiquei9aineigo'
          subscribers: openstack-api
          standalone: false
        'nova-api' :
          command: 'oschecks-check_nova_api --os-auth-url https://vip.example.com:5000/v2.0 --os-username admin --os-tenant-name admin --os-password Xokoph5io2aenaoh0nuiquei9aineigo'
          subscribers: openstack-api
          standalone: false
        'ceilometer-api' :
          command: 'oschecks-check_ceilometer_api --os-auth-url https://vip.example.com:5000/v2.0 --os-username admin --os-tenant-name admin --os-password Xokoph5io2aenaoh0nuiquei9aineigo'
          subscribers: openstack-api
          standalone: false
        'keystone-api' :
          command: 'oschecks-check_keystone_api --os-auth-url https://vip.example.com:5000/v2.0 --os-username admin --os-tenant-name admin --os-password Xokoph5io2aenaoh0nuiquei9aineigo'
          subscribers: openstack-api
          standalone: false
        'neutron-api' :
          command: 'oschecks-check_neutron_api --os-auth-url https://vip.example.com:5000/v2.0 --os-username admin --os-tenant-name admin --os-password Xokoph5io2aenaoh0nuiquei9aineigo'
          subscribers: openstack-api
          standalone: false
        'glance-api' :
          command: 'oschecks-check_glance_api --os-auth-url https://vip.example.com:5000/v2.0 --os-username admin --os-tenant-name admin --os-password Xokoph5io2aenaoh0nuiquei9aineigo'
          subscribers: openstack-api
          standalone: false
        'ceilometer-collector' :
          command: 'sudo oschecks-check_amqp ceilometer-collector'
          subscribers: openstack-amqp
          standalone: false
        'ceilometer-agent-notification' :
          command: 'sudo oschecks-check_amqp ceilometer-agent-notification'
          subscribers: openstack-amqp
          standalone: false

      cloud::monitoring::server::sensu::plugins:
        'https://raw.githubusercontent.com/sensu/sensu-community-plugins/master/plugins/system/check-mem.sh' :
          type: url
      #cloud::database::nosql::mongodb::mongos::enable: false
      #mongodb::server::shardsvr: true
      #mongodb::server::bind_ip: 192.168.142.8
      #mongodb::server::replset: ceilometer
      redis::slaveof: 'openstack1.example.com 6379'
      cloud::monitoring::server::sensu::manage_rabbitmq_resources: false
      cloud::compute::hypervisor::vm_rbd: false
      cloud::storage::rbd::osd::public_address: "%{hiera('public_netif_ip')}"
      cloud::storage::rbd::osd::cluster_address: "%{hiera('internal_netif_ip')}"
      cloud::storage::rbd::public_network: "%{hiera('ceph_public_network')}"
      cloud::storage::rbd::cluster_network: "%{hiera('ceph_cluster_network')}"
      cloud::storage::rbd::osd::devices: "%{hiera('ceph_osd_devices')}"
      cloud::loadbalancer::keepalived_state: MASTER
      cloud::object::storage::swift_zone: 3
      cloud::object::storage::fstype: loopback
      cloud::object::storage::device_config_hash:
        loop0:
          base_dir: /srv/loopback_device
          mnt_base_dir: /srv/node
          byte_size: 1024
          seek: 10000000
          fstype: xfs
        loop1:
          base_dir: /srv/loopback_device
          mnt_base_dir: /srv/node
          byte_size: 1024
          seek: 10000000
          fstype: xfs
        loop2:
          base_dir: /srv/loopback_device
          mnt_base_dir: /srv/node
          byte_size: 1024
          seek: 10000000
          fstype: xfs
      cloud::object::storage::ring_container_device: loop0
      cloud::object::storage::ring_account_device: loop0
      fluentd::version: '2'
      sensu::subscriptions: base
      sensu::rabbitmq_password: rabbitpassword
      sensu::rabbitmq_host: 192.168.142.6
      sensu::rabbitmq_vhost: '/sensu'
      sensu::install_repo: false
  contrail1:
    profile: contrail
    ip: 192.168.142.9
    config:
      zookeeper::id: '1'
      redis::bind: '0.0.0.0'
      ntp::iburst_enable: true
      ntp::servers:
        - 10.16.151.254
      ntp::restrict:
        - 'default nomodify notrap nopeer noquery'
        - '127.0.0.1'
        - '-6 ::1'
      #cloud::network::contrail::webui::http_port: '8079'
      #cloud::network::contrail::webui::http_bind_ip: '%{::ipaddress}'
      #cloud::network::contrail::webui::https_bind_ip: '%{::ipaddress}'
      #cloud::network::contrail::analytics::bind_ip: '%{::ipaddress}'
      #cloud::network::contrail::config::api_bind_ip: '%{::ipaddress}'
      #cloud::network::contrail::config::discovery_bind_ip: '%{::ipaddress}'
      #cassandra::cluster_name: 'contrail'
      #cassandra::listen_address: "%{::ipaddress}"
      #cassandra::seeds: '192.168.142.9'
      #cassandra::cassandra_package_name: cassandra12
      #cassandra::java_package_name: java-1.7.0-openjdk
      #cassandra::java_package_ensure: installed
      #cassandra::manage_dsc_repo: false
      #cassandra::manage_service: false
      #cassandra::cassandra_yaml_tmpl: 'cassandra/cassandra1.yaml.erb'
      #cassandra::rpc_address: "%{::ipaddress}"
      #zookeeper::servers:
      #  - '192.168.142.9'
      #  - '192.168.142.10'
      #  - '192.168.142.11'
      #kafka::broker::install_dir: '/usr/share/kafka'
      #kafka::broker::install_manage: false
      #kafka::broker::install_java: false
      #kafka::broker::config:
      #  port: 9092
      #  'broker.id': "%{hiera('zookeeper::id')}"
      #  'host.name': "%{::hostname}"
      #  'zookeeper.connect': '192.168.142.9:2181,192.168.142.10:2181,192.168.142.11:2181'
      #contrail::vnc_api_config:
      #    'global/WEB_SERVER':
      #      value: 192.168.142.42
      #    'auth/AUTHN_SERVER':
      #      value: 192.168.142.42
      #contrail::database::config::database_nodemgr_config:
      #    'DEFAULT/hostip':
      #      value: '192.168.142.9'
      #    'DISCOVERY/server':
      #      value: '192.168.142.42'
      # WebUI
      #contrail::webui::config::openstack_vip: '192.168.142.42'
      #contrail::webui::config::contrail_vip: '192.168.142.42'
      #contrail::webui::config::cassandra_ip: ['192.168.142.9', '192.168.142.10', '192.168.142.11']
      #contrail::webui::config::redis_vip: '192.168.142.9'
      #contrail::webui::config::contrail_webui_http_port: '8079'
      #contrail::webui::config::contrail_webui_https_port: '8143'
      # Analytics Node
      #contrail::analytics::config::analytics_api_config:
      #   'DEFAULTS/host_ip':
      #     value: '192.168.142.42'
      #   'DEFAULTS/cassandra_server_list':
      #     value: 'contrail1:9160 contrail2:9160 contrail3:9160'
      #   'DEFAULTS/collectors':
      #     value: 'contrail1:8086'
      #   'DISCOVERY/disc_server_ip':
      #     value: '192.168.142.42'
      #contrail::analytics::config::collector_config:
      #    'DEFAULT/cassandra_server_list':
      #      value: 'contrail1:9160 contrail2:9160 contrail3:9160'
      #    'DEFAULT/kafka_broker_list':
      #      value: 'contrail1:9092 contrail2:9092 contrail3:9092'
      #    'DEFAULT/syslog_port':
      #      value: -1
      #    'DISCOVERY/server':
      #      value: '192.168.142.42'
      #contrail::analytics::config::query_engine_config:
      #    'DEFAULT/hostip':
      #     value: "%{::ipaddress}"
      #    'DEFAULT/cassandra_server_list':
      #      value: 'contrail1:9160 contrail2:9160 contrail3:9160'
      #contrail::analytics::config::snmp_collector_config:
      #    'DEFAULTS/api_server':
      #      value: '192.168.142.42:8082'
      #    'DEFAULTS/collectors':
      #      value: '192.168.142.9:8086'
      #    'DISCOVERY/disc_server_ip':
      #      value: '192.168.142.42' 
      #    'DEFAULTS/zookeeper':
      #      value: 'contrail1:2181,contrail2:2181,contrail3:2181'
      #   'KEYSTONE/auth_host':
      #     value: 192.168.142.42
      #    'KEYSTONE/auth_protocol':
      #      value: http
      #    'KEYSTONE/auth_port':
      #      value: 35357
      #    'KEYSTONE/admin_user':
      #      value: admin
      #    'KEYSTONE/admin_password':
      #      value: password
      #    'KEYSTONE/admin_tenant_name':
      #      value: admin
      #    'KEYSTONE/insecure':
      #      value: true
      #contrail::analytics::config::topology_config:
      #    'DEFAULTS/analytics_api':
      #      value: '192.168.142.42:8081'
      #    'DEFAULTS/collectors':
       #     value: '192.168.142.9:8086'
       #   'DEFAULTS/zookeeper':
       #     value: 'contrail1:2181,contrail2:2181,contrail3:2181'
      #contrail::analytics::config::analytics_nodemgr_config:
      #    'DISCOVERY/server':
      #      value: '192.168.142.42' 
      # Control Node
      #contrail::control::provision_control::api_address: 192.168.142.42
      #contrail::control::provision_encap::api_address: 192.168.142.42
      #contrail::control::provision_linklocal::api_address: 192.168.142.42
      #contrail::control::provision_linklocal::ipfabric_service_ip: 192.168.142.42
      #contrail::control::config::secret: 'secret123'
      #contrail::control::config::dns_config:
     #     'DEFAULT/hostip':
     #       value: "%{::ipaddress}"
     #     'DISCOVERY/server':
     #       value: '192.168.142.42'
     #     'DEFAULT/rndc_secret':
     #       value: 'secret123'
     #     'IFMAP/password':
     #       value: "%{::ipaddress}.dns"
     #     'IFMAP/user':
     #       value: "%{::ipaddress}.dns"
     # contrail::control::config::control_config:
     #     'DEFAULT/hostip':
     #       value: "%{::ipaddress}"
     #     'DISCOVERY/server':
     #       value: '192.168.142.42'
     #     'IFMAP/password':
     ##       value: "%{::ipaddress}.dns"
     #     'IFMAP/user':
     #       value: "%{::ipaddress}.dns"
     # contrail::control::config::control_nodemgr_config:
     #     'DISCOVERY/server':
     #       value: '192.168.142.42' 
     # contrail::vnc_api::vnc_api_config:
     #     'global/WEB_SERVER':
     #       value: 192.168.142.42
     #     'auth/AUTHN_SERVER':
     #       value: 192.168.142.42

     # contrail::service_token::keystone_service_token: kpimopmiopmidfmpoifdmsaifdsanufdsqiufwqnufidsapnuipsafds

      #contrail::ctrl_details::keystone_service_token: kpimopmiopmidfmpoifdmsaifdsanufdsqiufwqnufidsapnuipsafds
      #contrail::ctrl_details::openstack_public_vip: 192.168.142.42
      #contrail::ctrl_details::openstack_external_vip: 192.168.142.42
      #contrail::ctrl_details::amqp_ip: 192.168.142.6
      # Configuration Node
      #contrail::config::config::basicauthusers_property:
      #  - 192.168.142.9.dns:192.168.142.9.dns
      #  - 192.168.142.10.dns:192.168.142.10.dns
      #  - 192.168.142.11.dns:192.168.142.11.dns
#      contrail::config::config::schema_config:
#        'DEFAULTS/api_server_ip':
#          value: 192.168.142.42
#        'DEFAULTS/zk_server_ip':
#          value: contrail1:2181,contrail2:2181,contrail3:2181
#        'DEFAULTS/cassandra_server_list':
#          value: contrail1:9160 contrail2:9160 contrail3:9160
#        'DEFAULTS/disc_server_ip':
#          value: 192.168.142.42
#        'KEYSTONE/auth_host':
#          value: 192.168.142.42
#        'KEYSTONE/auth_protocol':
#          value: http
#        'KEYSTONE/auth_port':
#          value: 35357
#        'KEYSTONE/admin_user':
#          value: admin
#        'KEYSTONE/admin_password':
#          value: password
#        'KEYSTONE/admin_tenant_name':
#          value: admin
#        'KEYSTONE/insecure':
#          value: true
#      contrail::config::config::device_manager_config:
#        'DEFAULTS/disc_server_ip':
#          value: 192.168.142.42
#        'DEFAULTS/api_server_ip':
#          value: 192.168.142.42
#        'DEFAULTS/api_server_port':
#          value: 8082
#        'DEFAULTS/rabbit_server':
#          value: '192.168.142.6,192.168.142.7,192.168.142.8'
#        'DEFAULTS/zk_server_ip':
#          value: contrail1,contrail2,contrail3
#        'DEFAULTS/cassandra_server_list':
#          value: contrail1:9160 contrail2:9160 contrail3:9160
#      contrail::config::config::discovery_config:
#        'DEFAULTS/zk_server_ip':
#          value: contrail1,contrail2,contrail3
#        'DEFAULTS/cassandra_server_list':
#          value: contrail1:9160 contrail2:9160 contrail3:9160
#        'DNS-SERVER/policy':
#          value: fixed
#      contrail::config::config::api_config:
#        'DEFAULTS/ifmap_server_ip':
#          value: "%{::ipaddress}"
#        'DEFAULTS/ifmap_server_port':
#          value: 8443
#        'DEFAULTS/cassandra_server_list':
#          value: contrail1:9160 contrail2:9160 contrail3:9160
#        'DEFAULTS/multi_tenancy':
#          value: true
#        'DEFAULTS/disc_server_ip':
#          value: 192.168.142.42
#        'DEFAULTS/zk_server_ip':
#          value: contrail1:2181,contrail2:2181,contrail3:2181
#        'DEFAULTS/rabbit_server':
#          value: '192.168.142.6,192.168.142.7,192.168.142.8'
#        'DEFAULTS/rabbit_user':
#          value: contrail
#        'DEFAULTS/rabbit_password':
#          value: contrailpassword
#        'DEFAULTS/rabbit_port':
#          value: 5672
#        'KEYSTONE/auth_host':
#          value: 192.168.142.42
#        'KEYSTONE/auth_protocol':
#          value: http
#        'KEYSTONE/auth_port':
#          value: 35357
#        'KEYSTONE/admin_user':
#          value: admin
#        'KEYSTONE/admin_password':
#          value: password
#        'KEYSTONE/admin_tenant_name':
#          value: admin
#        'KEYSTONE/insecure':
#          value: true
#      contrail::config::config::svc_monitor_config:
#        'DEFAULTS/ifmap_server_ip':
#          value: "%{::ipaddress}"
#        'DEFAULTS/ifmap_server_port':
#          value: 8443
#        'DEFAULTS/api_server_ip':
#          value: '192.168.142.42'
#        'DEFAULTS/api_server_port':
#          value: 8082
#        'DEFAULTS/cassandra_server_list':
#          value: contrail1:9160 contrail2:9160 contrail3:9160
#        'DEFAULTS/disc_server_ip':
#          value: 192.168.142.42
#        'DEFAULTS/disc_server_port':
#          value: 5998
#        'DEFAULTS/region_name':
#          value: zone42
#        'DEFAULTS/zk_server_ip':
#          value: contrail1:2181,contrail2:2181,contrail3:2181
#        'DEFAULTS/rabbit_server':
#          value: '192.168.142.6,192.168.142.7,192.168.142.8'
#        'DEFAULTS/rabbit_user':
#          value: contrail
#        'DEFAULTS/rabbit_password':
#          value: contrailpassword
#        'DEFAULTS/rabbit_port':
#          value: 5672
#        'KEYSTONE/auth_host':
#          value: 192.168.142.42
#        'KEYSTONE/auth_protocol':
#          value: http
#        'KEYSTONE/auth_port':
#          value: 35357
#        'KEYSTONE/admin_user':
#          value: admin
#        'KEYSTONE/admin_password':
#          value: password
#        'KEYSTONE/admin_tenant_name':
#          value: admin
#        'KEYSTONE/insecure':
#          value: true
#        'SCHEDULER/analytics_server_ip':
#          value: 192.168.142.42
#      contrail::config::config::config_nodemgr_config:
#          'DISCOVERY/server':
#            value: '192.168.142.42' 
#      contrail::keystone::keystone_config:
#        'KEYSTONE/auth_host':
#          value: 192.168.142.42
#        'KEYSTONE/auth_protocol':
#          value: http
#        'KEYSTONE/auth_port':
#          value: 35357
#        'KEYSTONE/admin_user':
#          value: admin
#        'KEYSTONE/admin_password':
#          value: password
#        'KEYSTONE/admin_tenant_name':
#          value: admin
#        'KEYSTONE/insecure':
#          value: true

  contrail2:
    profile: contrail
    ip: 192.168.142.10
    config:
      zookeeper::id: '2'
      redis::bind: '0.0.0.0'
      ntp::iburst_enable: true
      ntp::servers:
        - 10.16.151.254
      ntp::restrict:
        - 'default nomodify notrap nopeer noquery'
        - '127.0.0.1'
        - '-6 ::1'
#      cloud::network::contrail::webui::http_port: '8079'
#      cloud::network::contrail::webui::http_bind_ip: '%{::ipaddress}'
#      cloud::network::contrail::webui::https_bind_ip: '%{::ipaddress}'
#      cloud::network::contrail::analytics::bind_ip: '%{::ipaddress}'
#      cloud::network::contrail::config::api_bind_ip: '%{::ipaddress}'
#      cloud::network::contrail::config::discovery_bind_ip: '%{::ipaddress}'
#      cassandra::cluster_name: 'contrail'
#      cassandra::listen_address: "%{::ipaddress}"
#      cassandra::seeds: '192.168.142.9'
#      cassandra::cassandra_package_name: cassandra12
#      cassandra::java_package_name: java-1.7.0-openjdk
#      cassandra::java_package_ensure: installed
#      cassandra::manage_dsc_repo: false
#      cassandra::manage_service: false
#      cassandra::cassandra_yaml_tmpl: 'cassandra/cassandra1.yaml.erb'
#      cassandra::rpc_address: "%{::ipaddress}"
#      zookeeper::servers:
#        - '192.168.142.9'
#        - '192.168.142.10'
#        - '192.168.142.11'
#      kafka::broker::install_dir: '/usr/share/kafka'
#      kafka::broker::install_manage: false
#      kafka::broker::install_java: false
#      kafka::broker::config:
#        port: 9092
#        'broker.id': "%{hiera('zookeeper::id')}"
#        'host.name': "%{::hostname}"
#        'zookeeper.connect': '192.168.142.9:2181,192.168.142.10:2181,192.168.142.11:2181'
#      contrail::vnc_api_config:
#          'global/WEB_SERVER':
#            value: 192.168.142.42
#          'auth/AUTHN_SERVER':
#            value: 192.168.142.42
#      contrail::database::config::database_nodemgr_config:
#          'DEFAULT/hostip':
#            value: '192.168.142.10'
#          'DISCOVERY/server':
#            value: '192.168.142.42'
#      # WebUI
#      contrail::webui::config::openstack_vip: '192.168.142.42'
#      contrail::webui::config::contrail_vip: '192.168.142.42'
#      contrail::webui::config::cassandra_ip: ['192.168.142.9', '192.168.142.10', '192.168.142.11']
#      contrail::webui::config::redis_vip: '192.168.142.10'
#      contrail::webui::config::contrail_webui_http_port: '8079'
#      contrail::webui::config::contrail_webui_https_port: '8143'
#      # Analytics Node
#      contrail::analytics::config::analytics_api_config:
#         'DEFAULTS/host_ip':
#           value: '192.168.142.42'
#         'DEFAULTS/cassandra_server_list':
#           value: 'contrail2:9160 contrail2:9160 contrail3:9160'
#         'DEFAULTS/collectors':
#           value: 'contrail2:8086'
#         'DISCOVERY/disc_server_ip':
#           value: '192.168.142.42'
#      contrail::analytics::config::collector_config:
#          'DEFAULT/cassandra_server_list':
#            value: 'contrail1:9160 contrail2:9160 contrail3:9160'
#          'DEFAULT/kafka_broker_list':
#            value: 'contrail1:9092 contrail2:9092 contrail3:9092'
#          'DEFAULT/syslog_port':
#            value: -1
#          'DISCOVERY/server':
#            value: '192.168.142.42'
#      contrail::analytics::config::query_engine_config:
#          'DEFAULT/hostip':
#           value: "%{::ipaddress}"
#          'DEFAULT/cassandra_server_list':
#            value: 'contrail1:9160 contrail2:9160 contrail3:9160'
#      contrail::analytics::config::snmp_collector_config:
#          'DEFAULTS/api_server':
#            value: '192.168.142.42:8082'
#          'DEFAULTS/collectors':
#            value: '192.168.142.10:8086'
#          'DISCOVERY/disc_server_ip':
#            value: '192.168.142.42' 
#          'DEFAULTS/zookeeper':
#            value: 'contrail1:2181,contrail2:2181,contrail3:2181'
#          'KEYSTONE/auth_host':
#            value: 192.168.142.42
#          'KEYSTONE/auth_protocol':
#            value: http
#          'KEYSTONE/auth_port':
#            value: 35357
#          'KEYSTONE/admin_user':
#            value: admin
#          'KEYSTONE/admin_password':
#            value: password
#          'KEYSTONE/admin_tenant_name':
#            value: admin
#          'KEYSTONE/insecure':
#            value: true
#      contrail::analytics::config::topology_config:
#          'DEFAULTS/analytics_api':
#            value: '192.168.142.42:8081'
#          'DEFAULTS/collectors':
#            value: '192.168.142.10:8086'
#          'DEFAULTS/zookeeper':
#            value: 'contrail1:2181,contrail2:2181,contrail3:2181'
#      contrail::analytics::config::analytics_nodemgr_config:
#          'DISCOVERY/server':
#            value: '192.168.142.42' 
#      # Control Node
#      contrail::control::provision_control::api_address: 192.168.142.42
#      contrail::control::provision_encap::api_address: 192.168.142.42
#      contrail::control::provision_linklocal::api_address: 192.168.142.42
#      contrail::control::provision_linklocal::ipfabric_service_ip: 192.168.142.42
#      contrail::vnc_api::vnc_api_config:
#          'global/WEB_SERVER':
#            value: 192.168.142.42
#          'auth/AUTHN_SERVER':
#            value: 192.168.142.42
#
#      contrail::service_token::keystone_service_token: kpimopmiopmidfmpoifdmsaifdsanufdsqiufwqnufidsapnuipsafds
#
#      contrail::ctrl_details::keystone_service_token: kpimopmiopmidfmpoifdmsaifdsanufdsqiufwqnufidsapnuipsafds
#      contrail::ctrl_details::openstack_public_vip: 192.168.142.42
#      contrail::ctrl_details::openstack_external_vip: 192.168.142.42
#      contrail::ctrl_details::amqp_ip: 192.168.142.6
#      contrail::control::config::secret: 'secret123'
#      contrail::control::config::dns_config:
#          'DEFAULT/hostip':
#            value: "%{::ipaddress}"
#          'DISCOVERY/server':
#            value: '192.168.142.42'
#          'DEFAULT/rndc_secret':
#            value: 'secret123'
#          'IFMAP/password':
#            value: "%{::ipaddress}.dns"
#          'IFMAP/user':
#            value: "%{::ipaddress}.dns"
#      contrail::control::config::control_config:
#          'DEFAULT/hostip':
#            value: "%{::ipaddress}"
#          'DISCOVERY/server':
#            value: '192.168.142.42'
#          'IFMAP/password':
#            value: "%{::ipaddress}.dns"
#          'IFMAP/user':
#            value: "%{::ipaddress}.dns"
#      contrail::control::config::control_nodemgr_config:
#          'DISCOVERY/server':
#            value: '192.168.142.42' 
#      # Configuration Node
#      contrail::config::config::basicauthusers_property:
#        - 192.168.142.9.dns:192.168.142.9.dns
#        - 192.168.142.10.dns:192.168.142.10.dns
#        - 192.168.142.11.dns:192.168.142.11.dns
#      contrail::config::config::schema_config:
#        'DEFAULTS/api_server_ip':
#          value: 192.168.142.42
#        'DEFAULTS/zk_server_ip':
#          value: contrail1:2181,contrail2:2181,contrail3:2181
#        'DEFAULTS/cassandra_server_list':
#          value: contrail1:9160 contrail2:9160 contrail3:9160
#        'DEFAULTS/disc_server_ip':
#          value: 192.168.142.42
#        'KEYSTONE/auth_host':
#          value: 192.168.142.42
#        'KEYSTONE/auth_protocol':
#          value: http
#        'KEYSTONE/auth_port':
#          value: 35357
#        'KEYSTONE/admin_user':
#          value: admin
#        'KEYSTONE/admin_password':
#          value: password
#        'KEYSTONE/admin_tenant_name':
#          value: admin
#        'KEYSTONE/insecure':
#          value: true
#      contrail::config::config::device_manager_config:
#        'DEFAULTS/disc_server_ip':
#          value: 192.168.142.42
#        'DEFAULTS/api_server_ip':
#          value: 192.168.142.42
#        'DEFAULTS/api_server_port':
#          value: 8082
#        'DEFAULTS/rabbit_server':
#          value: '192.168.142.6,192.168.142.7,192.168.142.8'
#        'DEFAULTS/zk_server_ip':
#          value: contrail1,contrail2,contrail3
#        'DEFAULTS/cassandra_server_list':
#          value: contrail1:9160 contrail2:9160 contrail3:9160
#      contrail::config::config::discovery_config:
#        'DEFAULTS/zk_server_ip':
#          value: contrail1,contrail2,contrail3
#        'DEFAULTS/cassandra_server_list':
#          value: contrail1:9160 contrail2:9160 contrail3:9160
#        'DNS-SERVER/policy':
#          value: fixed
#      contrail::config::config::api_config:
#        'DEFAULTS/ifmap_server_ip':
#          value: "%{::ipaddress}"
#        'DEFAULTS/ifmap_server_port':
#          value: 8443
#        'DEFAULTS/cassandra_server_list':
#          value: contrail1:9160 contrail2:9160 contrail3:9160
#        'DEFAULTS/multi_tenancy':
#          value: true
#        'DEFAULTS/disc_server_ip':
#          value: 192.168.142.42
#        'DEFAULTS/zk_server_ip':
#          value: contrail1:2181,contrail2:2181,contrail3:2181
#        'DEFAULTS/rabbit_server':
#          value: '192.168.142.6,192.168.142.7,192.168.142.8'
#        'DEFAULTS/rabbit_user':
#          value: contrail
#        'DEFAULTS/rabbit_password':
#          value: contrailpassword
#        'DEFAULTS/rabbit_port':
#          value: 5672
#        'KEYSTONE/auth_host':
#          value: 192.168.142.42
#        'KEYSTONE/auth_protocol':
#          value: http
#        'KEYSTONE/auth_port':
#          value: 35357
#        'KEYSTONE/admin_user':
#          value: admin
#        'KEYSTONE/admin_password':
#          value: password
#        'KEYSTONE/admin_tenant_name':
#          value: admin
#        'KEYSTONE/insecure':
#          value: true
#      contrail::config::config::svc_monitor_config:
#        'DEFAULTS/ifmap_server_ip':
#          value: "%{::ipaddress}"
#        'DEFAULTS/ifmap_server_port':
#          value: 8443
#        'DEFAULTS/api_server_ip':
#          value: '192.168.142.42'
#        'DEFAULTS/api_server_port':
#          value: 8082
#        'DEFAULTS/cassandra_server_list':
#          value: contrail1:9160 contrail2:9160 contrail3:9160
#        'DEFAULTS/disc_server_ip':
#          value: 192.168.142.42
#        'DEFAULTS/disc_server_port':
#          value: 5998
#        'DEFAULTS/region_name':
#          value: zone42
#        'DEFAULTS/zk_server_ip':
#          value: contrail1:2181,contrail2:2181,contrail3:2181
#        'DEFAULTS/rabbit_server':
#          value: '192.168.142.6,192.168.142.7,192.168.142.8'
#        'DEFAULTS/rabbit_user':
#          value: contrail
#        'DEFAULTS/rabbit_password':
#          value: contrailpassword
#        'DEFAULTS/rabbit_port':
#          value: 5672
#        'KEYSTONE/auth_host':
#          value: 192.168.142.42
#        'KEYSTONE/auth_protocol':
#          value: http
#        'KEYSTONE/auth_port':
#          value: 35357
#        'KEYSTONE/admin_user':
#          value: admin
#        'KEYSTONE/admin_password':
#          value: password
#        'KEYSTONE/admin_tenant_name':
#          value: admin
#        'KEYSTONE/insecure':
#          value: true
#        'SCHEDULER/analytics_server_ip':
#          value: 192.168.142.42
#      contrail::config::config::config_nodemgr_config:
#          'DISCOVERY/server':
#            value: '192.168.142.42' 
#      contrail::keystone::keystone_config:
#        'KEYSTONE/auth_host':
#          value: 192.168.142.42
#        'KEYSTONE/auth_protocol':
#          value: http
#        'KEYSTONE/auth_port':
#          value: 35357
#        'KEYSTONE/admin_user':
#          value: admin
#        'KEYSTONE/admin_password':
#          value: password
#        'KEYSTONE/admin_tenant_name':
#          value: admin
#        'KEYSTONE/insecure':
#          value: true

  contrail3:
    profile: contrail
    ip: 192.168.142.11
    config:
      zookeeper::id: '3'
      redis::bind: '0.0.0.0'
      ntp::iburst_enable: true
      ntp::servers:
        - 10.16.151.254
      ntp::restrict:
        - 'default nomodify notrap nopeer noquery'
        - '127.0.0.1'
        - '-6 ::1'
#      cloud::network::contrail::webui::http_port: '8079'
#      cloud::network::contrail::webui::http_bind_ip: '%{::ipaddress}'
#      cloud::network::contrail::webui::https_bind_ip: '%{::ipaddress}'
#      cloud::network::contrail::analytics::bind_ip: '%{::ipaddress}'
#      cloud::network::contrail::config::api_bind_ip: '%{::ipaddress}'
#      cloud::network::contrail::config::discovery_bind_ip: '%{::ipaddress}'
#      cassandra::cluster_name: 'contrail'
#      cassandra::listen_address: "%{::ipaddress}"
#      cassandra::seeds: '192.168.142.9'
#      cassandra::cassandra_package_name: cassandra12
#      cassandra::java_package_name: java-1.7.0-openjdk
#      cassandra::java_package_ensure: installed
#      cassandra::manage_dsc_repo: false
#      cassandra::manage_service: false
#      cassandra::cassandra_yaml_tmpl: 'cassandra/cassandra1.yaml.erb'
#      cassandra::rpc_address: "%{::ipaddress}"
#      zookeeper::servers:
#        - '192.168.142.9'
#        - '192.168.142.10'
#        - '192.168.142.11'
#      kafka::broker::install_dir: '/usr/share/kafka'
#      kafka::broker::install_manage: false
#      kafka::broker::install_java: false
#      kafka::broker::config:
#        port: 9092
#        'broker.id': "%{hiera('zookeeper::id')}"
#        'host.name': "%{::hostname}"
#        'zookeeper.connect': '192.168.142.9:2181,192.168.142.10:2181,192.168.142.11:2181'
#      contrail::vnc_api_config:
#          'global/WEB_SERVER':
#            value: 192.168.142.42
#          'auth/AUTHN_SERVER':
#            value: 192.168.142.42
#      contrail::database::config::database_nodemgr_config:
#          'DEFAULT/hostip':
#            value: '192.168.142.11'
#          'DISCOVERY/server':
#            value: '192.168.142.42'
#      # WebUI
#      contrail::webui::config::openstack_vip: '192.168.142.42'
#      contrail::webui::config::contrail_vip: '192.168.142.42'
#      contrail::webui::config::cassandra_ip: ['192.168.142.9', '192.168.142.10', '192.168.142.11']
#      contrail::webui::config::redis_vip: '192.168.142.11'
#      contrail::webui::config::contrail_webui_http_port: '8079'
#      contrail::webui::config::contrail_webui_https_port: '8143'
#      # Analytics Node
#      contrail::analytics::config::analytics_api_config:
#         'DEFAULTS/host_ip':
#           value: '192.168.142.42'
#         'DEFAULTS/cassandra_server_list':
#           value: 'contrail1:9160 contrail2:9160 contrail3:9160'
#         'DEFAULTS/collectors':
#           value: 'contrail3:8086'
#         'DISCOVERY/disc_server_ip':
#           value: '192.168.142.42'
#      contrail::analytics::config::collector_config:
#          'DEFAULT/cassandra_server_list':
#            value: 'contrail1:9160 contrail2:9160 contrail3:9160'
#          'DEFAULT/kafka_broker_list':
#            value: 'contrail1:9092 contrail2:9092 contrail3:9092'
#          'DEFAULT/syslog_port':
#            value: -1
#          'DISCOVERY/server':
#            value: '192.168.142.42'
#      contrail::analytics::config::query_engine_config:
#          'DEFAULT/hostip':
#           value: "%{::ipaddress}"
#          'DEFAULT/cassandra_server_list':
#            value: 'contrail1:9160 contrail2:9160 contrail3:9160'
#      contrail::analytics::config::snmp_collector_config:
#          'DEFAULTS/api_server':
#            value: '192.168.142.42:8082'
#          'DEFAULTS/collectors':
#            value: '192.168.142.11:8086'
#          'DISCOVERY/disc_server_ip':
#            value: '192.168.142.42' 
#          'DEFAULTS/zookeeper':
#            value: 'contrail1:2181,contrail2:2181,contrail3:2181'
#          'KEYSTONE/auth_host':
#            value: 192.168.142.42
#          'KEYSTONE/auth_protocol':
#            value: http
#          'KEYSTONE/auth_port':
#            value: 35357
#          'KEYSTONE/admin_user':
#            value: admin
#          'KEYSTONE/admin_password':
#            value: password
#          'KEYSTONE/admin_tenant_name':
#            value: admin
#          'KEYSTONE/insecure':
#            value: true
#      contrail::analytics::config::topology_config:
#          'DEFAULTS/analytics_api':
#            value: '192.168.142.42:8081'
#          'DEFAULTS/collectors':
#            value: '192.168.142.11:8086'
#          'DEFAULTS/zookeeper':
#            value: 'contrail1:2181,contrail2:2181,contrail3:2181'
#      contrail::analytics::config::analytics_nodemgr_config:
#          'DISCOVERY/server':
#            value: '192.168.142.42' 
#      # Control Node
#      contrail::control::provision_control::api_address: 192.168.142.42
#      contrail::control::provision_encap::api_address: 192.168.142.42
#      contrail::control::provision_linklocal::api_address: 192.168.142.42
#      contrail::control::provision_linklocal::ipfabric_service_ip: 192.168.142.42
#      contrail::vnc_api::vnc_api_config:
#          'global/WEB_SERVER':
#            value: 192.168.142.42
#          'auth/AUTHN_SERVER':
#            value: 192.168.142.42
#
#      contrail::service_token::keystone_service_token: kpimopmiopmidfmpoifdmsaifdsanufdsqiufwqnufidsapnuipsafds
#
#      contrail::ctrl_details::keystone_service_token: kpimopmiopmidfmpoifdmsaifdsanufdsqiufwqnufidsapnuipsafds
#      contrail::ctrl_details::openstack_public_vip: 192.168.142.42
#      contrail::ctrl_details::openstack_external_vip: 192.168.142.42
#      contrail::ctrl_details::amqp_ip: 192.168.142.6
#      contrail::control::config::secret: 'secret123'
#      contrail::control::config::dns_config:
#          'DEFAULT/hostip':
#            value: "%{::ipaddress}"
#          'DISCOVERY/server':
#            value: '192.168.142.42'
#          'DEFAULT/rndc_secret':
#            value: 'secret123'
#          'IFMAP/password':
#            value: "%{::ipaddress}.dns"
#          'IFMAP/user':
#            value: "%{::ipaddress}.dns"
#      contrail::control::config::control_config:
#          'DEFAULT/hostip':
#            value: "%{::ipaddress}"
#          'DISCOVERY/server':
#            value: '192.168.142.42'
#          'IFMAP/password':
#            value: "%{::ipaddress}.dns"
#          'IFMAP/user':
#            value: "%{::ipaddress}.dns"
#      contrail::control::config::control_nodemgr_config:
#          'DISCOVERY/server':
#            value: '192.168.142.42' 
#      # Configuration Node
#      contrail::config::config::basicauthusers_property:
#        - 192.168.142.9.dns:192.168.142.9.dns
#        - 192.168.142.10.dns:192.168.142.10.dns
#        - 192.168.142.11.dns:192.168.142.11.dns
#      contrail::config::config::schema_config:
#        'DEFAULTS/api_server_ip':
#          value: 192.168.142.42
#        'DEFAULTS/zk_server_ip':
#          value: contrail1:2181,contrail2:2181,contrail3:2181
#        'DEFAULTS/cassandra_server_list':
#          value: contrail1:9160 contrail2:9160 contrail3:9160
#        'DEFAULTS/disc_server_ip':
#          value: 192.168.142.42
#        'KEYSTONE/auth_host':
#          value: 192.168.142.42
#        'KEYSTONE/auth_protocol':
#          value: http
#        'KEYSTONE/auth_port':
#          value: 35357
#        'KEYSTONE/admin_user':
#          value: admin
#        'KEYSTONE/admin_password':
#          value: password
#        'KEYSTONE/admin_tenant_name':
#          value: admin
#        'KEYSTONE/insecure':
#          value: true
#      contrail::config::config::device_manager_config:
#        'DEFAULTS/disc_server_ip':
#          value: 192.168.142.42
#        'DEFAULTS/api_server_ip':
#          value: 192.168.142.42
#        'DEFAULTS/api_server_port':
#          value: 8082
#        'DEFAULTS/rabbit_server':
#          value: '192.168.142.6,192.168.142.7,192.168.142.8'
#        'DEFAULTS/zk_server_ip':
#          value: contrail1,contrail2,contrail3
#        'DEFAULTS/cassandra_server_list':
#          value: contrail1:9160 contrail2:9160 contrail3:9160
#      contrail::config::config::discovery_config:
#        'DEFAULTS/zk_server_ip':
#          value: contrail1,contrail2,contrail3
#        'DEFAULTS/cassandra_server_list':
#          value: contrail1:9160 contrail2:9160 contrail3:9160
#        'DNS-SERVER/policy':
#          value: fixed
#      contrail::config::config::api_config:
#        'DEFAULTS/cassandra_server_list':
#          value: contrail1:9160 contrail2:9160 contrail3:9160
#        'DEFAULTS/multi_tenancy':
#          value: true
#        'DEFAULTS/disc_server_ip':
#          value: 192.168.142.42
#        'DEFAULTS/zk_server_ip':
#          value: contrail1:2181,contrail2:2181,contrail3:2181
#        'DEFAULTS/rabbit_server':
#          value: '192.168.142.6,192.168.142.7,192.168.142.8'
#        'DEFAULTS/rabbit_user':
#          value: contrail
#        'DEFAULTS/rabbit_password':
#          value: contrailpassword
#        'DEFAULTS/rabbit_port':
#          value: 5672
#        'KEYSTONE/auth_host':
#          value: 192.168.142.42
#        'KEYSTONE/auth_protocol':
#          value: http
#        'KEYSTONE/auth_port':
#          value: 35357
#        'KEYSTONE/admin_user':
#          value: admin
#        'KEYSTONE/admin_password':
#          value: password
#        'KEYSTONE/admin_tenant_name':
#          value: admin
#        'KEYSTONE/insecure':
#          value: true
#      contrail::config::config::svc_monitor_config:
#        'DEFAULTS/ifmap_server_ip':
#          value: "%{::ipaddress}"
#        'DEFAULTS/ifmap_server_port':
#          value: 8443
#        'DEFAULTS/api_server_ip':
#          value: '192.168.142.42'
#        'DEFAULTS/api_server_port':
#          value: 8082
#        'DEFAULTS/cassandra_server_list':
#          value: contrail1:9160 contrail2:9160 contrail3:9160
#        'DEFAULTS/disc_server_ip':
#          value: 192.168.142.42
#        'DEFAULTS/disc_server_port':
#          value: 5998
#        'DEFAULTS/region_name':
#          value: zone42
#        'DEFAULTS/zk_server_ip':
#          value: contrail1:2181,contrail2:2181,contrail3:2181
#        'DEFAULTS/rabbit_server':
#          value: '192.168.142.6,192.168.142.7,192.168.142.8'
#        'DEFAULTS/rabbit_user':
#          value: contrail
#        'DEFAULTS/rabbit_password':
#          value: contrailpassword
#        'DEFAULTS/rabbit_port':
#          value: 5672
#        'KEYSTONE/auth_host':
#          value: 192.168.142.42
#        'KEYSTONE/auth_protocol':
#          value: http
#        'KEYSTONE/auth_port':
#          value: 35357
#        'KEYSTONE/admin_user':
#          value: admin
#        'KEYSTONE/admin_password':
#          value: password
#        'KEYSTONE/admin_tenant_name':
#          value: admin
#        'KEYSTONE/insecure':
#          value: true
#        'SCHEDULER/analytics_server_ip':
#          value: 192.168.142.42
#      contrail::config::config::config_nodemgr_config:
#          'DISCOVERY/server':
#            value: '192.168.142.42' 
#      contrail::keystone::keystone_config:
#        'KEYSTONE/auth_host':
#          value: 192.168.142.42
#        'KEYSTONE/auth_protocol':
#          value: http
#        'KEYSTONE/auth_port':
#          value: 35357
#        'KEYSTONE/admin_user':
#          value: admin
#        'KEYSTONE/admin_password':
#          value: password
#        'KEYSTONE/admin_tenant_name':
#          value: admin
#        'KEYSTONE/insecure':
#          value: true

config:
  domain: example.com
  user: root
  puppet_master: installserver.example.com
  parallel_steps: 2|4|5
  region: zone42
  dns_ips: 8.8.8.8
  vip_public_fqdn: vip.example.com
  vip_public_ip: 192.168.142.42
  vip_admin_ip: 192.168.142.42
  vip_admin_fqdn: vip.example.com
  vip_internal_fqdn: vip.example.com
  endpoint_proto: http
  endpoint_protocol: http

  mgmt_names: ['openstack1', 'openstack2', 'openstack3']
  mgmt_internal_ips: ['192.168.142.6', '192.168.142.7', '192.168.142.8']
  spof_cluster_members : 'openstack1 openstack2 openstack3'
  horizon_debug: true
  horizon_allowed_hosts:
    - vip.example.com

  public_network: 192.168.142.0/24
  internal_network: 192.168.142.0/24
  admin_network: 192.168.142.0/24
  storage_network: 192.168.142.0/24

  mongo_nodes:
    - 192.168.142.6
    - 192.168.142.7
    - 192.168.142.8

  mongo_replset_members:
    - 192.168.142.6:27017
    - 192.168.142.7:27017
    - 192.168.142.8:27017
  
  #ntp_servers:
  #  - 0.centos.pool.ntp.org
  #  - 1.centos.pool.ntp.org
  #  - 2.centos.pool.ntp.org
  #  - 3.centos.pool.ntp.org

  root_password: root
  
  public_netif: eth0
  internal_netif: eth0
  admin_netif: eth0
  storage_netif: eth0
  lb_public_netif: eth0
  lb_internal_netif: eth0
  external_netif: eth1

  public_netif_ip: "%{::ipaddress_eth0}"
  internal_netif_ip: "%{::ipaddress_eth0}"
  admin_netif_ip: "%{::ipaddress_eth0}"
  storage_netif_ip: "%{::ipaddress_eth0}"

  keystone_db_user: keystone
  keystone_db_password: keystone_db_password
  ks_admin_email: admin@example.com
  ks_admin_password: password
  ks_admin_tenant: admin
  ks_admin_token: kpimopmiopmidfmpoifdmsaifdsanufdsqiufwqnufidsapnuipsafds

  ks_swift_dispersion_password: geldfqwyfewqoiuyfowqudwqoiyfwqee
  ks_swift_password: ks_swift_password
  swift_hash_suffix: gfrewqfqfwqfewqo
  replicas: 3
  statsd_host: 127.0.0.1

  mysql_root_password: password
  mysql_sys_maint_user: sys-maint
  mysql_sys_maint_password: password
  galera_clustercheck_dbuser: clustercheckuser
  galera_clustercheck_dbpassword: clustercheckpassword!
  galera_master_name: openstack1

  db_allowed_hosts:
    - openstack%
    - 192.168.142.%

  haproxy_auth: root:password

  secret_key: secret

  rabbit_password: rabbitpassword
  rabbit_host: 192.168.142.6
  rabbit_hosts:
    - 192.168.142.6:5672
    - 192.168.142.7:5672
    - 192.168.142.8:5672

  ks_neutron_password: ks_neutron_password
  neutron_db_password: neutron_db_password
  ks_neutron_admin_proto: https
  neutron_type_drivers:
    - gre
  neutron_mechanism_drivers:
    - openvswitch
    - l2population
  neutron_tunnel_id_ranges:
    - 1:10000
  neutron_firewall_driver: neutron.agent.linux.iptables_firewall.OVSHybridIptablesFirewall
  neutron_metadata_proxy_shared_secret: jffoiewirepwnfudenvfuieqE
      
  ks_nova_password: ks_nova_password
  nova_db_password: nova_db_password
  nova_ssh_public_key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDXNH7GNk1+4ECAqPJd7SJskjQ4g4ASnKaDeH+MfbzVQV3g5+GPC+dF/G5Pugmom8juOGSah+8RKYs/WSctNSEkaMrUwkeoWInstssrP0715R6c+oSpfuMpMATsI2/RV43RnnKcALW28CV8vZfTgdBY7GrZc04C7wifw8Ov0srf4l/QsKn5x80YWJ4TOL1o2XTg2pAME8iKlrBtuymBl9PROctyzeu+WPfqkkXF2iBiQMp1Vw8YbnRQ5IFfMlUZGrmaIcld4qekObY4Dpbd86vis3Ahdx50P71kxUGnHNdFoEqW5WRqrlier4+o/45WR+3I8mZScExW1qWfeiSg8zW7 spinalstack@example.com
  nova_ssh_private_key: |
    -----BEGIN RSA PRIVATE KEY-----
    MIIEowIBAAKCAQEA1zR+xjZNfuBAgKjyXe0ibJI0OIOAEpymg3h/jH281UFd4Ofh
    jwvnRfxuT7oJqJvI7jhkmofvESmLP1knLTUhJGjK1MJHqFiJ7LbLKz9O9eUenPqE
    qX7jKTAE7CNv0VeN0Z5ynAC1tvAlfL2X04HQWOxq2XNOAu8In8PDr9LK3+Jf0LCp
    +cfNGFieEzi9aNl04NqQDBPIipawbbspgZfT0TnLcs3rvlj36pJFxdogYkDKdVcP
    GG50UOSBXzJVGRq5miHJXeKnpDm2OA6W3fOr4rNwIXcedD+9ZMVBpxzXRaBKluVk
    aq5Ynq+PqP+OVkftyPJmUnBMVtaln3okoPM1uwIDAQABAoIBAALX/LzdxtRgXjnV
    Aa7gDU5l+C6u/ihAzap7EyRmHPKsdHMeXUqom5u/JC4FhU8nD9amBB5OoYgWhnKF
    2RCt3QxAHj4FezDsSpZILBMcOQzixC7K2KnstU+8BLSiGz4m7AbTEyygjcYnEje9
    wZ3X30rthNPuxB8hzXle+tz96hRfQS/Oicjz/FqrjYkgasfjXr9rvdMF3NIHSGq7
    eeUMnb+m6CM93FBz0wELACTqUL4icxBTmi1FS3fIOuGs7P/Aq00wXiLKCErUDIFv
    IZxRB264gmzMEuvMd9yW1dVvq0eAi3XD6rQ6pe04BpBgPsOLgNUnJ9TQwIZQg7xK
    0/titHECgYEA/jLAtihTc5dTdnQFWyRfeN5OhtfAsPPd8gYwOD7VJyIXxNJJUvoR
    Jk0j3egu0n8SqvmDh+TJxnq9HN5DIzDiZQOHJblSV1ElraHk2WO9egcACa4CLLsS
    aJOn2PXtMX8WDQnYTHXR5E+mPt8BqPveTTvLOvrxKr3tbw/h9dLSTWUCgYEA2Lr9
    FHxi0VQdVYlW4nkNAt7tz6EzzbfMtrbMYgd8rJrWaVFLYRlgODtJZh36CcN+LNo5
    qTwTnF9oOyVaAdFCqSzfa7nMTIXSmsWRfJshk3vwjH6K5x50+EX4oMc1WSlTkDsO
    IyWIdFkZ7x5MMReGfErwfFkZC2gfl0h7IbwwVJ8CgYBZfUSa3FeEuiGH8hBwpb12
    r8y1a/9KTJA2RDd1lak0vavgfqeRrrea5E1cMgFJ2bKYvn6vuLvQRCWPpC++k9cf
    +L37aeKzGr5JAlWuso5iB1TcE4ZweOtiJZlRqEJ4ymTY8j5TrKbX2bKNL7VF6GW6
    ivJhMTb19SdBkjXadP3UgQKBgHcOGPJE9f+ppkeTn0/fUV9vWNHC6vMp8WG5fwKm
    vD0Q/ZFzH+ZiCzI4lzRqaS0t38UBx8UIhHlVC6vZ89yluGm4ha7mrKyooq10tFvv
    1/zti5GR/fnCCF1OCqs/YzXsdsP3POffuVq4i3+IdDBPjQgAHqUgSJq0gw4WudUp
    TJ9fAoGBAMFtNjEv0a0SYGCm66NEg3Itnm3fPFxFzTdtu5R+UZPekOXjr3z2ASuK
    2LK5My/scgVpWPSh0AkYVWYjtk+LhXZ4GYWM0q3Aj4RNGyIqkX/CqFDMMWBDu3YE
    8ZiV84kBu/3yCpDyrBnDj/egOIj+jBWA2eOiJ/V2FYhPn9zCZpFW
    -----END RSA PRIVATE KEY-----

  glance_db_password: glance_db_password
  ks_glance_password: ks_glance_db_password

  ceilometer_secret: ceilometer_secret
  ks_ceilometer_password: ks_ceilometer_password

  cinder_db_password: cinder_db_password
  ks_cinder_password: ks_ceilometer_password

  trove_db_password: trove_db_password
  ks_trove_password: ks_trobe_password

  heat_db_password: heat_db_password
  ks_heat_password: ks_heat_password
  heat_auth_encryption_key: akeytoencrypt

  ceph_osd_devices:
    - vdd
    - vde
    - vdf
  ceph_fsid: 37788630-5f77-11e4-9803-0800200c9a66
  ceph_mon_secret: AQD7kyJQQGoOBhAAqrPAqSopSwPrrfMMomzVdw==
  cinder_rbd_pool: volumes
  cinder_rbd_user: cinder
  volume_default_volume_type: ceph
  volume_cinder_backends:
    rbd:
      ceph:
        rbd_pool: volumes
        rbd_user: cinder
        rbd_secret_uuid: 4a158d27-f750-41d5-9e7f-26ce4c9d2d45

  libvirt_type: kvm
  syslog_server: installserver
  syslog_port: 5140

  mongodb_version: 2.6.9-1.el7
  erlang_cookie: acookie

  redis_master_name: openstack1.example.com

  sudo_configs:
    'vagrant':
      'content': 'sensu ALL = NOPASSWD:ALL'

  # Contrail Specific settings
  neutron_plugin: opencontrail
  contrail_nodes:
    - 192.168.142.9
    - 192.168.142.10
    - 192.168.142.11
  cassandra_seeds: 192.168.142.9
  contrail_compute_gateway: 192.168.142.1

